{% extends "main.html" %}

{% block content %}
<br>
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap
    align-items-center py-4">
    <div class="d-block mb-4 mb-md-0">
        <h2 class="h4">Clientes</h2>
    </div>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a href="{% url 'cliente:add-client' %}" class="btn btn-sm btn-gray-800 d-inline-flex
            align-items-center">
            <svg class="icon icon-xs me-2" fill="none" stroke="currentColor"
                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path
                    stroke-linecap="round" stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
            Novo cliente
        </a>
        <div class="btn-group ms-2 ms-lg-3">
            <button type="button" class="btn btn-sm btn-outline-gray-600">Partilhar</button>
            <button type="button" class="btn btn-sm btn-outline-gray-600">Exportar</button>
        </div>
    </div>
</div>
<div class="table-settings mb-4">
    <div class="row align-items-center justify-content-between">
        <div class="col col-md-6 col-lg-3 col-xl-4">
            <div class="input-group me-2 me-lg-3 fmxw-400">
                <span class="input-group-text">
                    <svg class="icon icon-xs" x-description="Heroicon name:
                        solid/search" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0
                        20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0
                            000-8zM2
                            8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414
                            1.414l-4.816-4.816A6 6 0 012 8z"
                            clip-rule="evenodd"></path>
                    </svg>
                </span>
                <input type="text" class="form-control" placeholder="Search
                    orders">
            </div>
        </div>
        <div class="col-4 col-md-2 col-xl-1 ps-md-0 text-end">
            <div class="dropdown">
                <button class="btn btn-link text-dark dropdown-toggle
                    dropdown-toggle-split m-0 p-1" data-bs-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <svg class="icon icon-sm" fill="currentColor" viewBox="0 0
                        20
                        20" xmlns="http://www.w3.org/2000/svg"><path
                            fill-rule="evenodd" d="M11.49
                            3.17c-.38-1.56-2.6-1.56-2.98
                            0a1.532 1.532 0
                            01-2.286.948c-1.372-.836-2.942.734-2.106
                            2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561
                            2.6 0
                            2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734
                            2.942 2.106
                            2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561
                            2.978
                            0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734
                            2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379
                            1.561-2.6
                            0-2.978a1.532 1.532 0
                            01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532
                            1.532
                            0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                            clip-rule="evenodd"></path></svg>
                    <span class="visually-hidden">Toggle Dropdown</span>
                </button>
                <div class="dropdown-menu dropdown-menu-xs dropdown-menu-end
                    pb-0">
                    <span class="small ps-3 fw-bold text-dark">Mostrar</span>
                    <a class="dropdown-item d-flex align-items-center fw-bold"
                        href="#">10 <svg class="icon icon-xxs ms-auto"
                            fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg"><path
                                fill-rule="evenodd"
                                d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0
                                01-1.414
                                0l-4-4a1 1 0 011.414-1.414L8
                                12.586l7.293-7.293a1 1 0
                                011.414 0z" clip-rule="evenodd"></path></svg></a>
                    <a class="dropdown-item fw-bold" href="#">20</a>
                    <a class="dropdown-item fw-bold rounded-bottom" href="#">30</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="card card-body border-0 shadow table-wrapper
    table-responsive">
    <table class="table table-hover">
        <thead>
            <tr>
                <th class="border-gray-200">#</th>
                <th class="border-gray-200">Nome</th>
                <th class="border-gray-200">Contacto</th>
                <th class="border-gray-200">E-mail</th>
                <th class="border-gray-200">Nuit</th>
                <th class="border-gray-200">Endereço</th>
                <th class="border-gray-200">Registado por</th>
                <th class="border-gray-200"></th>
            </tr>
        </thead>
        <tbody>
            <!-- Item -->
            {% if clients %}
            {% for client in clients %}
            <tr>
                <td class="fw-bold">
                    {{client.id}}
                </td>
                <td>
                    <span class="fw-normal">{{client.name}}</span>
                </td>
                <td><span class="fw-normal">{{client.contact}}</span></td>
                <td><span class="fw-normal">{{client.email}}</span></td>
                <td><span class="fw-normal">{{client.nuit}}</span></td>
                <td><span class="fw-normal">{{client.location}}</span></td>
                <td><span class="fw-normal">{{client.user}}</span></td>
                
                <td>
                    <div class="btn-group">
                        <button class="btn btn-link text-dark dropdown-toggle
                            dropdown-toggle-split m-0 p-0"
                            data-bs-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            <span class="icon icon-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" 
                                class="bi bi-caret-down" viewBox="0 0 20 20">
                                <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 
                                0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
                                </svg>
                            </span>
                        </button>
                        <div class="dropdown-menu py-0">
                            <a class="dropdown-item text-secondary rounded-top" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
                                    fill="currentColor" class="bi bi-eye" viewBox="0 0 20 20">
                                    <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173
                                     8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12
                                    0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 
                                    8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 
                                    11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 
                                    13.134 0 0 1 1.172 8z"/>
                                    <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0
                                     1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                                  </svg>
                                  Visualizar
                            </a>
                            <a class="dropdown-item text-primary" href="{% url 'cliente:update-client' client.id %}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
                                fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 20 20">
                                    <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5
                                     0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 
                                     0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 
                                     .196-.12l6.813-6.814z"/>
                                    <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5
                                     0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 
                                     1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                </svg>
                                Actualizar
                            </a>
                            <a class="dropdown-item text-danger rounded-bottom" href="{% url 'cliente:delete-client' client.id %}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
                                fill="currentColor" class="bi bi-trash" viewBox="0 0 20 20">
                                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5
                                     0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0
                                      1 0V6z"/>
                                    <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 
                                    1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 
                                    0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5
                                     3V2h11v1h-11z"/>
                                </svg>
                                Apagar
                            </a>
                        </div>
                    </div>
                </td>
            </tr>
            {% endfor %}
            {% else %}
            <td colspan="8" style="text-align: center;"><span class="fw-normal text-warning">Nenhum registo encontrado! </span></td>
            {% endif %}
            
        </tbody>
    </table>
    <div class="card-footer px-3 border-0 d-flex flex-column flex-lg-row
        align-items-center justify-content-between">
        <nav aria-label="Page navigation example">
            <ul class="pagination mb-0">
                {% if clients.has_previous %}
                  <li class="page-item">
                    <a class="page-link" href="?page={{ clients.previous_page_number }}" 
                    tabindex="-1">‹</a>
                  </li>
                {% else %}
                  <li class="page-item disabled"><a class="page-link">‹</a></li>
                {% endif %}

                {% for i in clients.paginator.page_range %}
                  {% if clients.number == i %}
                    <li class="page-item active"><a class="page-link">{{ i }}</a></li>
                  {% else %}
                    <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                  {% endif %}
                {% endfor %}

                {% if clients.has_next %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ clients.next_page_number }}">›</a>
                </li>
                {% else %}
                  <li class="page-item disabled"><a class="page-link">›</a></li>
                {% endif %}
            </ul>
        </nav>
        
        <div class="fw-normal small mt-4 mt-lg-0">A mostrar <b>{{clients.number}}</b> de <b>{{clients.paginator.num_pages}}</b>
            paginas
        </div>
    </div>
</div>
{% endblock content %}